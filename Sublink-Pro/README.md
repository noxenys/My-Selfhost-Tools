# 📡 Sublink-Pro 自动化管理工具箱

本项目用于自动化初始化与维护 [Sublink Pro](https://github.com/SuS96/sublink-pro) 的后端配置。通过将标签（Tags）与自动化规则（Rules）解耦管理，实现节点的高效自动打标。

---

## 📂 目录结构说明
基于项目实际目录划分如下：
- **`/Tags`**: 标签系统初始化模块。负责建立视觉分组（如速度、地区、流媒体分组）。
- **`/Rule`**: 自动化规则模块。负责编写打标逻辑（如测速达标后自动贴上“高速”标签）。

---

## 🚀 脚本功能清单

### 🏷️ 标签管理 (`/Tags`)
| 文件名 | 功能说明 |
| :--- | :--- |
| `sync_core_20.py` | 导入 20 个核心精选标签（最推荐使用）。 |
| `sync_full_46.py` | 导入 46 个全量细分标签（适合重度用户）。 |
| `clean_tags.py` | 一键清空后台所有标签预设。 |

### 🤖 规则管理 (`/Rule`)
| 文件名 | 功能说明 |
| :--- | :--- |
| `rule_core_10.py` | **精英模式**：部署最核心的 10 条打标逻辑（清爽、实用）。 |
| `rule_core_20.py` | **全量模式**：部署 20 条细分打标逻辑。 |
| `clean_rule.py` | 根据名称前缀（速-、地-等）精准删除规则。 |
| `all_clean_rule.py` | **一键核平**：探测并清空后台所有规则。 |

---

## ⚠️ 核心维护笔记 (必读)

1. **Token 配置**：所有脚本支持两种 Token 获取方式：
   - **本地快速配置**：直接在脚本中赋值（注释状态，适合频繁使用）
   - **运行时输入**：默认方式，运行时提示输入（安全，适合共享环境）
2. **Token 安全**：本仓库为 **Public**，直接赋值的 Token 严禁提交到 GitHub。
3. **鉴权获取**：浏览器 **F12** -> 网络面板 -> 抓取任意接口的 `Authorization: Bearer <TOKEN>` 字段。
3. **入组逻辑**：添加标签必须携带 `groupName` 字段，否则 UI 界面无法实现蓝色分组显示。
4. **API 规范**：
   - **添加规则**: `/api/v1/tags/rules/add` (POST)
   - **删除规则**: `/api/v1/tags/rules/delete?id=` (DELETE)

---

## 🛠️ 最佳实践流程
1. 运行 `Tags/sync_core_20.py` 初始化标签体系。
2. 运行 `Rule/rule_core_10.py` 部署自动化打标逻辑。
3. 在 Sublinks Pro 后台刷新订阅，查看节点自动贴标效果。